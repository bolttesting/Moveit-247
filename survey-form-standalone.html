<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoveIt 247 - Packing List Survey Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="survey-form-standalone.css">
</head>
<body>
    <div class="container">
        <h1>Packing List - Survey Form</h1>
        
        <form id="complete-survey-form">
            <!-- Survey Details Section -->
            <div class="card">
                <h4>Survey Details</h4>
                <div id="survey-details-preview">
                    <p style="color: #64748b;">Survey information will be displayed here</p>
                </div>
            </div>

            <!-- Customer & Move Details Section -->
            <div class="card">
                <h4>Customer & Move Details</h4>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Customer / Client</label>
                        <input type="text" class="form-control" id="pl-customer-name">
                    </div>
                    <div class="form-group">
                        <label>Customer / Client</label>
                        <input type="text" class="form-control" id="pl-customer-name-2">
                    </div>
                    <div class="form-group">
                        <label>Mobile No.</label>
                        <input type="tel" class="form-control" id="pl-mobile">
                    </div>
                    <div class="form-group">
                        <label>Service</label>
                        <div style="display:flex; gap:15px; flex-wrap:wrap; margin-top:8px;">
                            <label style="display:flex; align-items:center; gap:5px;"><input type="checkbox" name="service-type" value="Office"> Office</label>
                            <label style="display:flex; align-items:center; gap:5px;"><input type="checkbox" name="service-type" value="Local"> Local</label>
                            <label style="display:flex; align-items:center; gap:5px;"><input type="checkbox" name="service-type" value="International"> International</label>
                            <label style="display:flex; align-items:center; gap:5px;"><input type="checkbox" name="service-type" value="Storage"> Storage</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Survey Date</label>
                        <input type="date" class="form-control" id="pl-survey-date">
                    </div>
                    <div class="form-group">
                        <label>Moving From</label>
                        <input type="text" class="form-control" id="pl-moving-from">
                    </div>
                    <div class="form-group">
                        <label>Moving To</label>
                        <input type="text" class="form-control" id="pl-moving-to">
                    </div>
                    <div class="form-group">
                        <label>Apartment Size</label>
                        <input type="text" class="form-control" id="pl-apartment-size">
                    </div>
                </div>
            </div>

            <!-- Items Table Section -->
            <div class="card">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; flex-wrap:wrap; gap:10px;">
                    <h4 style="margin:0;">Items List</h4>
                    <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
                        <input type="text" id="packing-list-search" placeholder="Search items..." class="form-control" style="min-width:200px; max-width:300px;" onkeyup="filterPackingListItems()">
                        <button type="button" class="btn btn-sm btn-primary" onclick="showAddCustomItemModal()">Add Custom Item</button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table" id="packing-list-items-table">
                        <thead>
                            <tr>
                                <th style="width:200px;">Items</th>
                                <th style="width:80px;">CBM</th>
                                <th style="width:100px;">Nos. of Pcs</th>
                                <th style="width:100px;">Total CBM</th>
                                <th style="width:100px;">Action</th>
                            </tr>
                        </thead>
                        <tbody id="packing-list-items-tbody">
                            <!-- Items will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Totals Section -->
            <div class="card">
                <h4>Totals</h4>
                <div class="form-grid" style="grid-template-columns: repeat(3, 1fr);">
                    <div class="form-group">
                        <label>BLDG. PERMIT</label>
                        <input type="text" class="form-control" id="pl-permit">
                    </div>
                    <div class="form-group">
                        <label>Total Working Days</label>
                        <input type="number" class="form-control" id="pl-working-days" min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label>No. of Trips</label>
                        <input type="number" class="form-control" id="pl-trips" min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label>Total CBM</label>
                        <input type="number" class="form-control" id="pl-total-cbm" min="0" step="0.01" value="0" readonly>
                    </div>
                    <div class="form-group">
                        <label>Amount of the Move</label>
                        <input type="number" class="form-control" id="pl-amount" min="0" step="0.01" value="0">
                    </div>
                </div>
            </div>

            <!-- Additional Information Section -->
            <div class="card">
                <h4>Additional Information</h4>
                <div class="form-group">
                    <label>Upload Apartment Images</label>
                    <input type="file" class="form-control" id="survey-images" accept="image/*" multiple onchange="handleImagePreview(this)">
                    <div class="image-preview" id="survey-images-preview"></div>
                </div>
                <div class="form-group">
                    <label>Comments/Notes</label>
                    <textarea class="form-control" id="survey-comments" rows="4" placeholder="Add any comments or notes about the apartment, items, condition, etc."></textarea>
                </div>
                <div class="form-group">
                    <label>Client Instructions</label>
                    <textarea class="form-control" id="survey-client-instructions" rows="4" placeholder="Any special instructions or requirements from the client"></textarea>
                </div>
                <div class="form-group">
                    <label>Terms & Conditions</label>
                    <textarea class="form-control" id="pl-terms" rows="3" placeholder="Terms and conditions..."></textarea>
                </div>
            </div>

            <!-- Signatures Section -->
            <div class="card">
                <h4>Signatures</h4>
                <div class="form-grid" style="grid-template-columns: repeat(2, 1fr);">
                    <div class="form-group">
                        <label>Customer Signature</label>
                        <canvas id="pl-customer-signature" width="400" height="150"></canvas>
                        <div style="margin-top:10px;">
                            <button type="button" class="btn btn-sm btn-secondary" onclick="clearSignature('pl-customer-signature')">Clear</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>MoveIt Signature</label>
                        <canvas id="pl-moveit-signature" width="400" height="150"></canvas>
                        <div style="margin-top:10px;">
                            <button type="button" class="btn btn-sm btn-secondary" onclick="clearSignature('pl-moveit-signature')">Clear</button>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button type="submit" class="btn btn-primary" style="padding: 15px 40px; font-size: 16px;">Submit Packing List</button>
            </div>
        </form>
    </div>

    <!-- Add Custom Item Modal -->
    <div class="modal" id="add-custom-item-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Custom Item</h3>
                <span class="close" onclick="hideModal('add-custom-item-modal')">&times;</span>
            </div>
            <div class="modal-body">
                <form id="add-custom-item-form">
                    <div class="form-group">
                        <label>Item Name *</label>
                        <input type="text" class="form-control" id="custom-item-name" required>
                    </div>
                    <div class="form-group">
                        <label>CBM (Cubic Meter) *</label>
                        <input type="number" class="form-control" id="custom-item-cbm" step="0.01" min="0" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="hideModal('add-custom-item-modal')">Cancel</button>
                <button class="btn btn-primary" onclick="addCustomItem()">Add Item</button>
            </div>
        </div>
    </div>

    <script src="survey-form-standalone.js"></script>
</body>
</html>

